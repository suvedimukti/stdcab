<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="Functions to spatial point data for spatial thinning,
    clustering, blocking and structure analysis.  Results from spatial
    clustering and blocking are resampling objects for machine learning
    using tidy modelling framework.">
<title>Spatial Thinning, Dependency, Clustering, And Blocking of Point Data 
    for Classification Problems • stdcab</title>
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><link href="deps/Roboto-0.4.7/font.css" rel="stylesheet">
<link href="deps/JetBrains_Mono-0.4.7/font.css" rel="stylesheet">
<link href="deps/Roboto_Slab-0.4.7/font.css" rel="stylesheet">
<!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="Spatial Thinning, Dependency, Clustering, And Blocking of Point Data 
    for Classification Problems">
<meta property="og:description" content="Functions to spatial point data for spatial thinning,
    clustering, blocking and structure analysis.  Results from spatial
    clustering and blocking are resampling objects for machine learning
    using tidy modelling framework.">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="index.html">stdcab</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="articles/spatial_cluster_sample.html">Spatial Clustering of Point Data for Machine Learning of Multiclass Classification Problems</a>
    <a class="dropdown-item" href="articles/spatial_grid_sample.html">Spatial Gridding/Blocking of Point Data for Machine Learning Using Tidymodeling</a>
  </div>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/suvedimukti/stdcab/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><p><img src="reference/figures/logo.gif" align="right"></p>
<div class="section level1">
<div class="page-header"><h1 id="stdcab">stdcab<a class="anchor" aria-label="anchor" href="#stdcab"></a>
</h1></div>
<!-- badges: start -->

<p>The goal of the <strong>stdcab</strong> package is to apply spatial thinning on multi-class spatial point data, spatial cluster analysis for random and repeated cross-validations which partitions data into training and testing set compatible to tidy-modeling resamples. The package allows to run semivariance analysis, plotting and spatial blocking of observations.</p>
</div>
<div class="section level1">
<h1 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h1>
<p>You can install the released version of stdcab from <a href="https://cran.r-project.org" class="external-link">CRAN</a> with:</p>
<p><code>{r  install.packages("stdcab")</code></p>
<p>To install the latest stdcab version from <a href="https://github.com/" class="external-link">GitHub</a> use:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">remotes</span><span class="fu">::</span><span class="fu">install_github</span><span class="op">(</span><span class="st">'suvedimukti/stdcab'</span><span class="op">)</span></span>
<span><span class="co">#&gt; Downloading GitHub repo suvedimukti/stdcab@HEAD</span></span>
<span><span class="co">#&gt; vctrs   (0.6.2        -&gt; 0.6.3       ) [CRAN]</span></span>
<span><span class="co">#&gt; cpp11   (0.4.4        -&gt; 0.4.5       ) [CRAN]</span></span>
<span><span class="co">#&gt; ggplot2 (2a7ca74e2... -&gt; 1f27ffec3...) [GitHub]</span></span>
<span><span class="co">#&gt; Installing 2 packages: vctrs, cpp11</span></span>
<span><span class="co">#&gt; Installing packages into 'C:/Users/suved/AppData/Local/R/win-library/4.3'</span></span>
<span><span class="co">#&gt; (as 'lib' is unspecified)</span></span>
<span><span class="co">#&gt; package 'vctrs' successfully unpacked and MD5 sums checked</span></span>
<span><span class="co">#&gt; Warning: cannot remove prior installation of package 'vctrs'</span></span>
<span><span class="co">#&gt; Warning in file.copy(savedcopy, lib, recursive = TRUE): problem copying</span></span>
<span><span class="co">#&gt; C:\Users\suved\AppData\Local\R\win-library\4.3\00LOCK\vctrs\libs\x64\vctrs.dll</span></span>
<span><span class="co">#&gt; to C:\Users\suved\AppData\Local\R\win-library\4.3\vctrs\libs\x64\vctrs.dll:</span></span>
<span><span class="co">#&gt; Permission denied</span></span>
<span><span class="co">#&gt; Warning: restored 'vctrs'</span></span>
<span><span class="co">#&gt; package 'cpp11' successfully unpacked and MD5 sums checked</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; The downloaded binary packages are in</span></span>
<span><span class="co">#&gt;  C:\Users\suved\AppData\Local\Temp\RtmpE9dCl8\downloaded_packages</span></span>
<span><span class="co">#&gt; Downloading GitHub repo tidyverse/ggplot2@HEAD</span></span>
<span><span class="co">#&gt; vctrs (0.6.2 -&gt; 0.6.3) [CRAN]</span></span>
<span><span class="co">#&gt; Installing 1 packages: vctrs</span></span>
<span><span class="co">#&gt; Installing package into 'C:/Users/suved/AppData/Local/R/win-library/4.3'</span></span>
<span><span class="co">#&gt; (as 'lib' is unspecified)</span></span>
<span><span class="co">#&gt; package 'vctrs' successfully unpacked and MD5 sums checked</span></span>
<span><span class="co">#&gt; Warning: cannot remove prior installation of package 'vctrs'</span></span>
<span><span class="co">#&gt; Warning in file.copy(savedcopy, lib, recursive = TRUE): problem copying</span></span>
<span><span class="co">#&gt; C:\Users\suved\AppData\Local\R\win-library\4.3\00LOCK\vctrs\libs\x64\vctrs.dll</span></span>
<span><span class="co">#&gt; to C:\Users\suved\AppData\Local\R\win-library\4.3\vctrs\libs\x64\vctrs.dll:</span></span>
<span><span class="co">#&gt; Permission denied</span></span>
<span><span class="co">#&gt; Warning: restored 'vctrs'</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; The downloaded binary packages are in</span></span>
<span><span class="co">#&gt;  C:\Users\suved\AppData\Local\Temp\RtmpE9dCl8\downloaded_packages</span></span>
<span><span class="co">#&gt; ── R CMD build ─────────────────────────────────────────────────────────────────</span></span>
<span><span class="co">#&gt;          checking for file 'C:\Users\suved\AppData\Local\Temp\RtmpE9dCl8\remotes25801e406f7c\tidyverse-ggplot2-1f27ffe/DESCRIPTION' ...     checking for file 'C:\Users\suved\AppData\Local\Temp\RtmpE9dCl8\remotes25801e406f7c\tidyverse-ggplot2-1f27ffe/DESCRIPTION' ...   ✔  checking for file 'C:\Users\suved\AppData\Local\Temp\RtmpE9dCl8\remotes25801e406f7c\tidyverse-ggplot2-1f27ffe/DESCRIPTION' (437ms)</span></span>
<span><span class="co">#&gt;       ─  preparing 'ggplot2': (16.1s)</span></span>
<span><span class="co">#&gt;    checking DESCRIPTION meta-information ...     checking DESCRIPTION meta-information ...   ✔  checking DESCRIPTION meta-information</span></span>
<span><span class="co">#&gt;       ─  checking for LF line-endings in source and make files and shell scripts (1s)</span></span>
<span><span class="co">#&gt;       ─  checking for empty or unneeded directories</span></span>
<span><span class="co">#&gt;       ─  building 'ggplot2_3.4.2.9000.tar.gz'</span></span>
<span><span class="co">#&gt;      </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Installing package into 'C:/Users/suved/AppData/Local/R/win-library/4.3'</span></span>
<span><span class="co">#&gt; (as 'lib' is unspecified)</span></span>
<span><span class="co">#&gt; ── R CMD build ─────────────────────────────────────────────────────────────────</span></span>
<span><span class="co">#&gt;          checking for file 'C:\Users\suved\AppData\Local\Temp\RtmpE9dCl8\remotes25804e99304b\suvedimukti-stdcab-e0bbf4b/DESCRIPTION' ...     checking for file 'C:\Users\suved\AppData\Local\Temp\RtmpE9dCl8\remotes25804e99304b\suvedimukti-stdcab-e0bbf4b/DESCRIPTION' ...   ✔  checking for file 'C:\Users\suved\AppData\Local\Temp\RtmpE9dCl8\remotes25804e99304b\suvedimukti-stdcab-e0bbf4b/DESCRIPTION' (518ms)</span></span>
<span><span class="co">#&gt;       ─  preparing 'stdcab': (524ms)</span></span>
<span><span class="co">#&gt;    checking DESCRIPTION meta-information ...     checking DESCRIPTION meta-information ...   ✔  checking DESCRIPTION meta-information</span></span>
<span><span class="co">#&gt;       ─  checking for LF line-endings in source and make files and shell scripts</span></span>
<span><span class="co">#&gt;   ─  checking for empty or unneeded directories</span></span>
<span><span class="co">#&gt;       ─  building 'stdcab_0.1.0.tar.gz'</span></span>
<span><span class="co">#&gt;      </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Installing package into 'C:/Users/suved/AppData/Local/R/win-library/4.3'</span></span>
<span><span class="co">#&gt; (as 'lib' is unspecified)</span></span></code></pre></div>
<p>Repeated Cluster CV: <code>rsample</code> compatible</p>
<p>This function is extended based on <code>spatial_cluster_sample</code>, which is a wrapper around <code>spatial_clustering_cv</code> function of <strong>sptialsample</strong> package.</p>
<div class="section level2">
<h2 id="load-dataset">Load dataset<a class="anchor" aria-label="anchor" href="#load-dataset"></a>
</h2>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># load dataset</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/suvedimukti/stdcab" class="external-link">stdcab</a></span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">landcover</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># create another dataset based on landcover data that comes with the package</span></span>
<span><span class="co">#</span></span>
<span><span class="va">dspatial</span> <span class="op">&lt;-</span> <span class="va">landcover</span></span>
<span></span>
<span><span class="co"># examine data</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">dspatial</span><span class="op">)</span></span>
<span><span class="co">#&gt; Simple feature collection with 6 features and 32 fields</span></span>
<span><span class="co">#&gt; Geometry type: POINT</span></span>
<span><span class="co">#&gt; Dimension:     XY</span></span>
<span><span class="co">#&gt; Bounding box:  xmin: 392210.5 ymin: 3119625 xmax: 399267.2 ymax: 3119778</span></span>
<span><span class="co">#&gt; Projected CRS: NAD83 / UTM zone 14N</span></span>
<span><span class="co">#&gt;       MBLU      MDIS     MENT      MGRN      MHOM      MNDSI     MNDVI</span></span>
<span><span class="co">#&gt; 1 66.63188 1.6617853 2.950356  79.29950 0.4467591 0.27364541 0.3530703</span></span>
<span><span class="co">#&gt; 2 63.39825 1.9870977 2.960603  73.69209 0.4019742 0.29720028 0.4029944</span></span>
<span><span class="co">#&gt; 3 69.88172 1.6976533 2.942974  80.93514 0.4405100 0.22758467 0.2885415</span></span>
<span><span class="co">#&gt; 4 90.20121 1.1538607 2.595928 101.55721 0.5584459 0.08908733 0.0774211</span></span>
<span><span class="co">#&gt; 5 92.37401 0.9766353 2.472715 101.19852 0.6005212 0.04736083 0.0158674</span></span>
<span><span class="co">#&gt; 6 63.28209 1.6095205 2.905691  78.96302 0.4605569 0.32877674 0.4410174</span></span>
<span><span class="co">#&gt;        MNDWI     MNIR     MPC1     MPC2    MPC23      MRED      MSAVI     MSTD</span></span>
<span><span class="co">#&gt; 1 0.51515239 138.9199 159.1613 102.4536 202.6218  66.55164 0.51515239 21.25050</span></span>
<span><span class="co">#&gt; 2 0.55808490 137.4047 148.8866 104.3592 204.5810  58.23234 0.55808490 19.98415</span></span>
<span><span class="co">#&gt; 3 0.43974239 128.5910 161.2001 102.6947 190.8658  71.33220 0.43974239 21.58185</span></span>
<span><span class="co">#&gt; 4 0.13333992 121.6026 200.3034 100.9832 169.4937 104.52521 0.13333992 26.70559</span></span>
<span><span class="co">#&gt; 5 0.02596568 111.4324 200.0531 100.8161 158.5089 108.05662 0.02596568 26.70048</span></span>
<span><span class="co">#&gt; 6 0.60552987 156.1672 159.4131 102.6292 221.1018  60.83709 0.60552987 21.32887</span></span>
<span><span class="co">#&gt;        SAVG       SAVI     SBLU      SDIS      SENT      SGRN      SHOM</span></span>
<span><span class="co">#&gt; 1 0.7719360 0.09421593 8.007267 0.7173829 0.2979607 13.223900 0.1305707</span></span>
<span><span class="co">#&gt; 2 1.0951935 0.15705697 9.696568 0.9694563 0.3330230 13.901611 0.1387346</span></span>
<span><span class="co">#&gt; 3 0.8193193 0.10658609 7.640749 0.7711866 0.2884212 11.779700 0.1295736</span></span>
<span><span class="co">#&gt; 4 0.6762000 0.12961513 8.087468 0.6171818 0.4649801  9.553970 0.1582553</span></span>
<span><span class="co">#&gt; 5 0.5402425 0.09479591 5.684382 0.5020353 0.4690081  6.982191 0.1469829</span></span>
<span><span class="co">#&gt; 6 1.0425932 0.09469646 8.115348 0.8179208 0.3255548 11.952452 0.1369844</span></span>
<span><span class="co">#&gt;       SHPI      SNDSI      SNDVI      SNIR     SPC1      SPC2     SPC3     SRED</span></span>
<span><span class="co">#&gt; 1 2.064817 0.06072264 0.09421593 19.990943 22.00438 17.457164 3.453199 13.53963</span></span>
<span><span class="co">#&gt; 2 2.818856 0.09894260 0.15705697 26.054171 24.42861 25.079633 4.042181 17.20263</span></span>
<span><span class="co">#&gt; 3 2.515565 0.05936204 0.10658609 16.465150 20.52350 14.532001 4.098715 14.22547</span></span>
<span><span class="co">#&gt; 4 2.451424 0.05418211 0.12961513 12.712686 18.92016 12.433632 3.768943 14.64595</span></span>
<span><span class="co">#&gt; 5 1.591254 0.04073361 0.09479591  9.757403 13.83072  8.766206 3.414756 10.42752</span></span>
<span><span class="co">#&gt; 6 1.975009 0.06062318 0.09469646 18.062159 20.22403 16.856885 3.163099 13.56793</span></span>
<span><span class="co">#&gt;       SSTD                 geometry Class_name</span></span>
<span><span class="co">#&gt; 1 2.182833 POINT (392210.5 3119625)          4</span></span>
<span><span class="co">#&gt; 2 2.590231 POINT (395942.6 3119661)          4</span></span>
<span><span class="co">#&gt; 3 1.982273   POINT (393647 3119704)          4</span></span>
<span><span class="co">#&gt; 4 2.066033 POINT (397385.1 3119726)          3</span></span>
<span><span class="co">#&gt; 5 1.399689 POINT (397434.5 3119731)          3</span></span>
<span><span class="co">#&gt; 6 2.185156 POINT (399267.2 3119778)          4</span></span>
<span></span>
<span><span class="co"># Class_name is the dependent (response ) data with seven classes (1 through  7)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="visualize-the-data">Visualize the data<a class="anchor" aria-label="anchor" href="#visualize-the-data"></a>
</h2>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># load ggplot 2 for visualization</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org" class="external-link">ggplot2</a></span><span class="op">)</span></span>
<span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">dspatial</span><span class="op">)</span><span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggsf.html" class="external-link">geom_sf</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>colour <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">factor</a></span><span class="op">(</span><span class="va">Class_name</span><span class="op">)</span><span class="op">)</span>, size <span class="op">=</span> <span class="fl">1.5</span>, alpha <span class="op">=</span> <span class="fl">0.8</span><span class="op">)</span><span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_viridis.html" class="external-link">scale_colour_viridis_d</a></span><span class="op">(</span><span class="op">)</span><span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span>color <span class="op">=</span> <span class="st">"Land Cover Class"</span><span class="op">)</span><span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html" class="external-link">theme_bw</a></span><span class="op">(</span><span class="fl">12</span><span class="op">)</span></span></code></pre></div>
<p><img src="reference/figures/README-datavis-1.png" width="100%"></p>
</div>
<div class="section level2">
<h2 id="apply-repeated-cluster-sampling-on-sf-data">Apply repeated cluster sampling on sf data<a class="anchor" aria-label="anchor" href="#apply-repeated-cluster-sampling-on-sf-data"></a>
</h2>
<p>To make visualization easy lets make five folds and five repeats resulting 25 splits of data based on <strong>kmeans</strong> clustering.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># setting seeds</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">1318</span><span class="op">)</span></span>
<span></span>
<span><span class="va">spc_rcv</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/repeated_spatial_cluster_sample.html">repeated_spatial_cluster_sample</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">dspatial</span>, v <span class="op">=</span> <span class="fl">5</span>, repeats <span class="op">=</span> <span class="fl">5</span>,</span>
<span>                            coords <span class="op">=</span> <span class="cn">NULL</span>, spatial <span class="op">=</span> <span class="cn">TRUE</span>, clust_method <span class="op">=</span> <span class="st">"kmeans"</span>, </span>
<span>                            dist_clust <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span></span>
<span><span class="co">#&gt; Warning: package 'sf' was built under R version 4.3.1</span></span>
<span><span class="co">#&gt; Linking to GEOS 3.11.2, GDAL 3.6.2, PROJ 9.2.0; sf_use_s2() is TRUE</span></span>
<span><span class="co">#&gt; Warning: package 'sp' was built under R version 4.3.1</span></span>
<span><span class="co">#&gt; The legacy packages maptools, rgdal, and rgeos, underpinning the sp package,</span></span>
<span><span class="co">#&gt; which was just loaded, will retire in October 2023.</span></span>
<span><span class="co">#&gt; Please refer to R-spatial evolution reports for details, especially</span></span>
<span><span class="co">#&gt; https://r-spatial.org/r/2023/05/15/evolution4.html.</span></span>
<span><span class="co">#&gt; It may be desirable to make the sf package available;</span></span>
<span><span class="co">#&gt; package maintainers should consider adding sf to Suggests:.</span></span>
<span><span class="co">#&gt; The sp package is now running under evolution status 2</span></span>
<span><span class="co">#&gt;      (status 2 uses the sf package in place of rgdal)</span></span>
<span></span>
<span><span class="va">spc_rcv</span></span>
<span><span class="co">#&gt; # A tibble: 25 × 3</span></span>
<span><span class="co">#&gt;    splits             id      id2  </span></span>
<span><span class="co">#&gt;    &lt;list&gt;             &lt;chr&gt;   &lt;chr&gt;</span></span>
<span><span class="co">#&gt;  1 &lt;split [1503/419]&gt; Repeat1 Fold1</span></span>
<span><span class="co">#&gt;  2 &lt;split [1632/290]&gt; Repeat1 Fold2</span></span>
<span><span class="co">#&gt;  3 &lt;split [1573/349]&gt; Repeat1 Fold3</span></span>
<span><span class="co">#&gt;  4 &lt;split [1353/569]&gt; Repeat1 Fold4</span></span>
<span><span class="co">#&gt;  5 &lt;split [1627/295]&gt; Repeat1 Fold5</span></span>
<span><span class="co">#&gt;  6 &lt;split [1331/591]&gt; Repeat2 Fold1</span></span>
<span><span class="co">#&gt;  7 &lt;split [1648/274]&gt; Repeat2 Fold2</span></span>
<span><span class="co">#&gt;  8 &lt;split [1482/440]&gt; Repeat2 Fold3</span></span>
<span><span class="co">#&gt;  9 &lt;split [1654/268]&gt; Repeat2 Fold4</span></span>
<span><span class="co">#&gt; 10 &lt;split [1573/349]&gt; Repeat2 Fold5</span></span>
<span><span class="co">#&gt; # ℹ 15 more rows</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="visualize-clusters">Visualize clusters<a class="anchor" aria-label="anchor" href="#visualize-clusters"></a>
</h2>
<p>Following chunk of code is a function to run each split at a time to visualize <code>Analysis\Training</code> and <code>Assessment\Testing</code> set in each fold and repeats.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://magrittr.tidyverse.org" class="external-link">magrittr</a></span><span class="op">)</span> <span class="co"># </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Attaching package: 'magrittr'</span></span>
<span><span class="co">#&gt; The following object is masked from 'package:purrr':</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;     set_names</span></span>
<span><span class="va">fplot_splits</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">split</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">gp</span> <span class="op">&lt;-</span> <span class="fu">analysis</span><span class="op">(</span><span class="va">split</span><span class="op">)</span> <span class="op"><a href="reference/pipe.html">%&gt;%</a></span></span>
<span>   <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>analysis <span class="op">=</span> <span class="st">"Training"</span><span class="op">)</span> <span class="op"><a href="reference/pipe.html">%&gt;%</a></span></span>
<span>   <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/bind_rows.html" class="external-link">bind_rows</a></span><span class="op">(</span><span class="fu">assessment</span><span class="op">(</span><span class="va">split</span><span class="op">)</span> <span class="op"><a href="reference/pipe.html">%&gt;%</a></span></span>
<span>   <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>analysis <span class="op">=</span> <span class="st">"Testing"</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="reference/pipe.html">%&gt;%</a></span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span><span class="va">X</span>, <span class="va">Y</span>, color <span class="op">=</span> <span class="va">analysis</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html" class="external-link">geom_point</a></span><span class="op">(</span>alpha <span class="op">=</span> <span class="fl">0.7</span>, size <span class="op">=</span> <span class="fl">2</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/coord_fixed.html" class="external-link">coord_fixed</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span>color <span class="op">=</span> <span class="st">"Train/Test"</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_viridis.html" class="external-link">scale_color_viridis_d</a></span><span class="op">(</span>direction <span class="op">=</span> <span class="op">-</span><span class="fl">1</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">xlab</a></span><span class="op">(</span><span class="st">"Longitude (m)"</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">ylab</a></span><span class="op">(</span><span class="st">"Latitidue (m)"</span><span class="op">)</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">gp</span><span class="op">)</span></span>
<span><span class="op">}</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="plotting">Plotting<a class="anchor" aria-label="anchor" href="#plotting"></a>
</h2>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># plot using walk function from purrr package</span></span>
<span><span class="co"># this requires gifski package</span></span>
<span><span class="fu">purrr</span><span class="fu">::</span><span class="fu"><a href="https://purrr.tidyverse.org/reference/map.html" class="external-link">walk</a></span><span class="op">(</span><span class="va">spc_rcv</span><span class="op">$</span><span class="va">splits</span>, <span class="va">fplot_splits</span><span class="op">)</span></span></code></pre></div>
<p><img src="reference/figures/README-hclust_plot1-.gif" width="100%"></p>
</div>
</div>

  </main><aside class="col-md-3"><div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/suvedimukti/stdcab/" class="external-link">Browse source code</a></li>
<li><a href="https://github.com/suvedimukti/stdcab/issues" class="external-link">Report a bug</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small><a href="https://opensource.org/licenses/mit-license.php" class="external-link">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a></small></li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing stdcab</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Mukti Subedi <br><small class="roles"> Author, maintainer </small> <a href="https://orcid.org/https://orcid.org/0000-0003-4167-0206" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
</ul>
</div>

<div class="dev-status">
<h2 data-toc-skip>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/suvedimukti/stdcab/actions/workflows/R-CMD-check.yaml" class="external-link"><img src="https://github.com/suvedimukti/stdcab/actions/workflows/R-CMD-check.yaml/badge.svg" alt="R-CMD-check"></a></li>
</ul>
</div>

  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Mukti Subedi.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
